{"version":3,"file":"cart.min.js","sources":["cart.js"],"sourcesContent":["// ============ CART FUNCTIONALITY ============\nimport showNotification from \"./toast.js\";\n\nclass ShoppingCart {\n    constructor() {\n        this.items = this.loadCart();\n        this.cartSidebar = document.getElementById('cartSidebar');\n        this.cartToggle = document.getElementById('cartToggle');\n        this.cartClose = document.getElementById('cartClose');\n        this.continueShopping = document.getElementById('continueShopping');\n        this.overlay = document.getElementById('overlay');\n        this.cartCount = document.getElementById('cartCount');\n        this.cartItems = document.getElementById('cartItems');\n        this.cartSubtotal = document.getElementById('cartSubtotal');\n        this.cartTotal = document.getElementById('cartTotal');\n        \n        this.init();\n    }\n    \n    init() {\n        // Load cart from localStorage\n        this.updateUI();\n        \n        // Event listeners\n        if (this.cartToggle) {\n            this.cartToggle.addEventListener('click', () => this.openCart());\n        }\n        \n        if (this.cartClose) {\n            this.cartClose.addEventListener('click', () => this.closeCart());\n        }\n        \n        if (this.continueShopping) {\n            this.continueShopping.addEventListener('click', () => this.closeCart());\n        }\n        \n        if (this.overlay) {\n            this.overlay.addEventListener('click', () => this.closeCart());\n        }\n        \n        // Add to cart buttons\n        this.setupAddToCartButtons();\n    }\n    \n    setupAddToCartButtons() {\n        document.addEventListener('click', (e) => {\n            if (e.target.classList.contains('btn-add-cart')) {\n                const btn = e.target;\n                const product = {\n                    id: btn.dataset.id,\n                    name: btn.dataset.name,\n                    price: parseFloat(btn.dataset.price),\n                    image: btn.dataset.image,\n                    quantity: 1\n                };\n                \n                this.addItem(product);\n                showNotification('Product added to cart!');\n            }\n        });\n    }\n    \n    addItem(product) {\n        const existingItem = this.items.find(item => item.id === product.id);\n        \n        if (existingItem) {\n            existingItem.quantity += 1;\n        } else {\n            this.items.push(product);\n        }\n        \n        this.saveCart();\n        this.updateUI();\n    }\n    \n    removeItem(productId) {\n        this.items = this.items.filter(item => item.id !== productId);\n        this.saveCart();\n        this.updateUI();\n    }\n    \n    updateQuantity(productId, newQuantity) {\n        const item = this.items.find(item => item.id === productId);\n        \n        if (item) {\n            if (newQuantity <= 0) {\n                this.removeItem(productId);\n            } else {\n                item.quantity = newQuantity;\n                this.saveCart();\n                this.updateUI();\n            }\n        }\n    }\n    \n    getTotal() {\n        return this.items.reduce((total, item) => {\n            return total + (item.price * item.quantity);\n        }, 0);\n    }\n    \n    updateUI() {\n        // Update cart count\n        const totalItems = this.items.reduce((sum, item) => sum + item.quantity, 0);\n        if (this.cartCount) {\n            this.cartCount.textContent = totalItems;\n            this.cartCount.style.display = totalItems > 0 ? 'flex' : 'none';\n        }\n        \n        // Update cart items\n        if (this.cartItems) {\n            if (this.items.length === 0) {\n                this.cartItems.innerHTML = `\n                    <div class=\"cart-empty\">\n                        <svg width=\"80\" height=\"80\" viewBox=\"0 0 80 80\" fill=\"none\">\n                            <circle cx=\"40\" cy=\"40\" r=\"38\" stroke=\"#e0e0e0\" stroke-width=\"4\"/>\n                            <path d=\"M30 50L50 30M50 50L30 30\" stroke=\"#e0e0e0\" stroke-width=\"4\" stroke-linecap=\"round\"/>\n                        </svg>\n                        <p style='font-size: 15px;'>Your cart is empty</p>\n                    </div>\n                `;\n            } else {\n                this.cartItems.innerHTML = this.items.map(item => `\n                    <div class=\"cart-item\" data-id=\"${item.id}\">\n                        <div class=\"cart-item-image\">\n                            <img src=\"${item.image}\" alt=\"${item.name}\">\n                        </div>\n                        <div class=\"cart-item-info\">\n                            <h4>${item.name}</h4>\n                            <div class=\"cart-item-price\">$${item.price.toFixed(2)}</div>\n                            <div class=\"cart-item-quantity\">\n                                <button class=\"qty-btn qty-minus\" data-id=\"${item.id}\">-</button>\n                                <span class=\"qty-value\">${item.quantity}</span>\n                                <button class=\"qty-btn qty-plus\" data-id=\"${item.id}\">+</button>\n                            </div>\n                        </div>\n                        <button class=\"cart-item-remove\" data-id=\"${item.id}\">Ã—</button>\n                    </div>\n                `).join('');\n                \n                // Add event listeners for quantity buttons\n                this.setupCartItemButtons();\n            }\n        }\n        \n        // Update totals\n        const total = this.getTotal();\n        if (this.cartSubtotal) {\n            this.cartSubtotal.textContent = `$${total.toFixed(2)}`;\n        }\n        if (this.cartTotal) {\n            this.cartTotal.textContent = `$${total.toFixed(2)}`;\n        }\n    }\n    \n    setupCartItemButtons() {\n        // Remove buttons\n        document.querySelectorAll('.cart-item-remove').forEach(btn => {\n            btn.addEventListener('click', () => {\n                const id = btn.dataset.id;\n                this.removeItem(id);\n                showNotification('Product removed from cart');\n            });\n        });\n        \n        // Quantity buttons\n        document.querySelectorAll('.qty-minus').forEach(btn => {\n            btn.addEventListener('click', () => {\n                const id = btn.dataset.id;\n                const item = this.items.find(item => item.id === id);\n                if (item) {\n                    this.updateQuantity(id, item.quantity - 1);\n                }\n            });\n        });\n        \n        document.querySelectorAll('.qty-plus').forEach(btn => {\n            btn.addEventListener('click', () => {\n                const id = btn.dataset.id;\n                const item = this.items.find(item => item.id === id);\n                if (item) {\n                    this.updateQuantity(id, item.quantity + 1);\n                }\n            });\n        });\n    }\n    \n    openCart() {\n        if (this.cartSidebar) {\n            this.cartSidebar.classList.add('active');\n        }\n        if (this.overlay) {\n            this.overlay.classList.add('active');\n        }\n        document.body.style.overflow = 'hidden';\n    }\n    \n    closeCart() {\n        if (this.cartSidebar) {\n            this.cartSidebar.classList.remove('active');\n        }\n        if (this.overlay) {\n            this.overlay.classList.remove('active');\n        }\n        document.body.style.overflow = '';\n    }\n    \n    saveCart() {\n        localStorage.setItem('cart', JSON.stringify(this.items));\n    }\n    \n    loadCart() {\n        const saved = localStorage.getItem('cart');\n        return saved ? JSON.parse(saved) : [];\n    }\n    \n    clearCart() {\n        this.items = [];\n        this.saveCart();\n        this.updateUI();\n    }\n}\n\n// Initialize cart\nconst cart = new ShoppingCart();\n\n// Checkout button\ndocument.addEventListener('click', (e) => {\n    if (e.target.classList.contains('btn-checkout')) {\n        if (cart.items.length > 0) {\n            alert('Proceeding to checkout...\\nTotal: $' + cart.getTotal().toFixed(2));\n            // Here you would redirect to checkout page\n            // window.location.href = 'checkout.html';\n        } else {\n            alert('Your cart is empty!');\n        }\n    }\n});\n"],"names":["showNotification","ShoppingCart","constructor","this","items","loadCart","cartSidebar","document","getElementById","cartToggle","cartClose","continueShopping","overlay","cartCount","cartItems","cartSubtotal","cartTotal","init","updateUI","addEventListener","openCart","closeCart","setupAddToCartButtons","e","target","classList","contains","product","id","btn","dataset","name","price","parseFloat","image","quantity","addItem","existingItem","find","item","push","saveCart","removeItem","productId","filter","updateQuantity","newQuantity","getTotal","reduce","total","totalItems","sum","textContent","style","display","length","innerHTML","map","toFixed","join","setupCartItemButtons","querySelectorAll","forEach","add","body","overflow","remove","localStorage","setItem","JSON","stringify","saved","getItem","parse","clearCart","cart","alert"],"mappings":"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"}