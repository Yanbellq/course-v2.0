{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["import showNotification from './toast.js';\n\n\n// ============ MOBILE MENU ============\nconst mobileToggle = document.getElementById('mobileToggle');\nconst navMenu = document.getElementById('navMenu');\n\nif (mobileToggle) {\n    mobileToggle.addEventListener('click', () => {\n        navMenu.classList.toggle('active');\n        mobileToggle.classList.toggle('active');\n    });\n}\n\n// Close mobile menu when clicking outside\ndocument.addEventListener('click', (e) => {\n    if (!e.target.closest('.navbar') && navMenu) {\n        navMenu.classList.remove('active');\n        if (mobileToggle) mobileToggle.classList.remove('active');\n    }\n});\n\n// ============ SEARCH OVERLAY ============\nconst searchToggle = document.getElementById('searchToggle');\nconst searchOverlay = document.getElementById('searchOverlay');\nconst searchClose = document.getElementById('searchClose');\nconst searchInput = document.getElementById('searchInput');\n\nif (searchToggle) {\n    searchToggle.addEventListener('click', () => {\n        searchOverlay.classList.toggle('active');\n        searchInput.focus();\n    });\n}\n\nif (searchClose) {\n    const resultsContainer = document.getElementById('searchResults');\n\n    searchClose.addEventListener('click', () => {\n        // searchOverlay.classList.remove('active');\n        searchInput.value = '';\n        if (resultsContainer) resultsContainer.innerHTML = '';\n    });\n}\n\ndocument.addEventListener('click', (e) => {\n    if (\n        searchOverlay &&\n        !e.target.closest('.navbar') &&\n        !e.target.closest('#searchOverlay')\n    ) {\n        searchOverlay.classList.remove('active');\n        if (searchInput) searchInput.value = '';\n    }\n});\n\n// Search functionality\nif (searchInput) {\n    searchInput.addEventListener('input', (e) => {\n        const query = e.target.value.toLowerCase();\n        const resultsContainer = document.getElementById('searchResults');\n\n        if (query.length > 2) {\n            // Mock search results\n            const products = [\n                { name: 'iPhone 15 Pro', price: 999.99, image: 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=500' },\n                { name: 'MacBook Pro', price: 1999.99, image: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=500' },\n                { name: 'Sony Headphones', price: 399.99, image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500' },\n                { name: 'Canon Camera', price: 899.99, image: 'https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500' }\n            ];\n\n            const filtered = products.filter(p => p.name.toLowerCase().includes(query));\n\n            if (filtered.length > 0) {\n                resultsContainer.innerHTML = filtered.map(product => `\n                    <a href=\"#\" class=\"search-result-item\">\n                        <div class=\"search-result-image-container\">\n                            <img src=\"${product.image}\" alt=\"${product.name}\" class=\"search-result-image\">\n                        </div>\n                        <div class=\"search-result-info\">\n                            <h4>${product.name}</h4>\n                            <p>$${product.price.toFixed(2)}</p>\n                        </div>\n                    </a>\n                `).join('');\n            } else {\n                resultsContainer.innerHTML = '<p style=\"padding: 20px; text-align: center; color: #666; font-size: 15px;\">No results found</p>';\n            }\n        } else {\n            resultsContainer.innerHTML = '';\n        }\n    });\n}\n\n// ============ ACCORDION ============\nconst accordionHeaders = document.querySelectorAll('.accordion-header');\n\naccordionHeaders.forEach(header => {\n    header.addEventListener('click', () => {\n        const item = header.parentElement;\n        const wasActive = item.classList.contains('active');\n\n        // Close all accordion items\n        document.querySelectorAll('.accordion-item').forEach(i => {\n            i.classList.remove('active');\n        });\n\n        // Open clicked item if it wasn't active\n        if (!wasActive) {\n            item.classList.add('active');\n        }\n    });\n});\n\n// ============ USER BUTTON ============\n// const userBtn = document.getElementById('userBtn');\n//\n// if (userBtn) {\n//     userBtn.addEventListener('click', () => {\n//         window.location.href = '/auth/';\n//     });\n// }\n\n// ============ NEWSLETTER ============\nconst newsletterForm = document.getElementById('newsletterForm');\n\nif (newsletterForm) {\n    newsletterForm.addEventListener('submit', (e) => {\n        e.preventDefault();\n        const email = newsletterForm.querySelector('input').value;\n\n        if (email) {\n            alert(`Thank you for subscribing with: ${email}`);\n            newsletterForm.reset();\n        }\n    });\n}\n\n// ============ PRODUCTS GENERATION ============\nconst products = [\n    { id: 1, name: 'Premium Headphones', status: 'In stock', price: 299.99, rating: 3, image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500' },\n    { id: 2, name: 'MacBook Pro', status: 'In stock', price: 1999.99, rating: 5, image: 'https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=500' },\n    { id: 3, name: 'Digital Camera', status: 'In stock', price: 899.99, rating: 5, image: 'https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=500' },\n    { id: 4, name: 'Smart Watch', status: 'In stock', price: 399.99, rating: 4, image: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500' },\n    { id: 5, name: 'iPhone 15 Pro', status: 'In stock', price: 999.99, rating: 5, image: 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=500' },\n    { id: 6, name: 'Wireless Earbuds', status: 'In stock', price: 249.99, rating: 3, image: 'https://images.unsplash.com/photo-1606841837239-c5a1a4a07af7?w=500' },\n    { id: 7, name: 'Gaming Laptop', status: 'In stock', price: 1599.99, rating: 4, image: 'https://images.unsplash.com/photo-1593642632823-8f785ba67e45?w=500' },\n    { id: 8, name: 'Tablet Pro', status: 'In stock', price: 799.99, rating: 2, image: 'https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=500' }\n];\n\nconst productsGrid = document.getElementById('productsGrid');\n\nif (productsGrid) {\n    productsGrid.innerHTML = products.map(product => `\n        <div class=\"catalog-product-card\">\n\n            <div class=\"product-image\">\n                <img src=\"${product.image}\" alt=\"${product.name}\">\n                <div class=\"product-badge\">${product.status}</div>\n                <button class=\"product-like\">\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                        <path d=\"M10 17L3 10C1 8 1 5 3 3C5 1 8 1 10 3C12 1 15 1 17 3C19 5 19 8 17 10L10 17Z\"\n                            stroke=\"white\" stroke-width=\"1.5\" fill=\"none\" />\n                    </svg>    \n                </button>\n            </div>\n\n            <div class=\"product-details\">\n                <div class=\"product-rating\">${'★'.repeat(product.rating)}${'☆'.repeat(5 - product.rating)}</div>\n                <h4>${product.name}</h4>\n                <p class=\"product-price\">$${product.price.toFixed(2)}</p>\n                <button class=\"btn-add-cart\" data-id=\"${product.id}\" data-name=\"${product.name}\" data-price=\"${product.price}\" data-image=\"${product.image}\">\n                    Add to Cart\n                </button>\n            </div>\n            \n        </div>\n    `).join('');\n}\n\n// Product Like Buttons\nconst likeButtons = document.querySelectorAll('.product-like');\n\nlikeButtons.forEach(btn => {\n    btn.addEventListener('click', function () {\n        this.classList.toggle('liked');\n        const svg = this.querySelector('svg path');\n        if (this.classList.contains('liked')) {\n            svg.setAttribute('fill', 'white');\n        } else {\n            svg.setAttribute('fill', 'none');\n        }\n    });\n});\n\n// ============ SMOOTH SCROLL ============\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function (e) {\n        const href = this.getAttribute('href');\n        if (href !== '#' && href.length > 1) {\n            e.preventDefault();\n            const target = document.querySelector(href);\n            if (target) {\n                target.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                });\n                if (navMenu) navMenu.classList.remove('active');\n                if (mobileToggle) mobileToggle.classList.remove('active');\n            }\n        }\n    });\n});\n\n// ============ SCROLL ANIMATIONS ============\nconst observerOptions = {\n    threshold: 0.1,\n    rootMargin: '0px 0px -50px 0px'\n};\n\nconst observer = new IntersectionObserver((entries) => {\n    entries.forEach(entry => {\n        if (entry.isIntersecting) {\n            entry.target.style.opacity = '1';\n            entry.target.style.transform = 'translateY(0)';\n        }\n    });\n}, observerOptions);\n\ndocument.querySelectorAll('section').forEach(section => {\n    section.style.opacity = '0';\n    section.style.transform = 'translateY(30px)';\n    section.style.transition = 'all 0.6s ease-out';\n    observer.observe(section);\n});\n\nconst scrollToTopBtn = document.getElementById(\"scrollToTopBtn\");\nconst logoScrollToTopBtn = document.getElementById(\"logoScrollToTop\");\n\n// ============ Scroll to top button functionality ============\nfunction scrollToTop() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n    if (navMenu) navMenu.classList.remove('active');\n    if (mobileToggle) mobileToggle.classList.remove('active');\n}\n\nif (scrollToTopBtn) {\n    scrollToTopBtn.addEventListener(\"click\", scrollToTop);\n}\n\nif (logoScrollToTopBtn) {\n    logoScrollToTopBtn.addEventListener(\"click\", scrollToTop);\n}\n\n\n// ============ CHECK IF USER IS LOGGED IN ============\nfunction checkAuth() {\n    const user = localStorage.getItem('user') || sessionStorage.getItem('user');\n    const admin = localStorage.getItem('admin') || sessionStorage.getItem('admin');\n\n    if (user || admin) {\n        const userData = JSON.parse(user || admin);\n        console.log('Logged in as:', userData);\n\n        // Update UI if on main page\n        const userBtn = document.getElementById('userBtn');\n        if (userBtn && userData.username) {\n            userBtn.innerHTML = `\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <circle cx=\"10\" cy=\"7\" r=\"4\"/>\n                    <path d=\"M3 19C3 15 6 13 10 13C14 13 17 15 17 19\"/>\n                </svg>\n            `;\n            userBtn.title = `Logged in as ${userData.username || userData.email}`;\n        }\n    }\n}\n\n// Check auth on page load\ncheckAuth();\n\n// ============ LOGOUT FUNCTIONALITY ============\nfunction logout() {\n    localStorage.removeItem('user');\n    localStorage.removeItem('admin');\n    sessionStorage.removeItem('user');\n    sessionStorage.removeItem('admin');\n\n    showNotification('Logged out successfully', 'success');\n\n    setTimeout(() => {\n        if (window.location.pathname.includes('index.html')) {\n            window.location.reload();\n        } else {\n            window.location.href = 'index.html';\n        }\n    }, 1000);\n}\n\n// Add logout button functionality (you can add this to the header)\ndocument.addEventListener('DOMContentLoaded', () => {\n    const user = localStorage.getItem('user') || sessionStorage.getItem('user');\n    const admin = localStorage.getItem('admin') || sessionStorage.getItem('admin');\n\n    if (user || admin) {\n        // Create a logout button in the header\n\n        const userBtn = document.getElementById('userBtn');\n        const navIcons = document.getElementById('navIcons');\n\n        const header = document.querySelector('header') || document.body;\n        let logoutBtn = document.getElementById('logoutBtn');\n        if (!logoutBtn) {\n            logoutBtn = document.createElement('button');\n            logoutBtn.id = 'logoutBtn';\n            logoutBtn.innerHTML = `\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n                    <path d=\"M7 2H3C2.44772 2 2 2.44772 2 3V17C2 17.5523 2.44772 18 3 18H7\"\n                        stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n                    <path d=\"M13 14L18 10M18 10L13 6M18 10H7\" stroke=\"currentColor\" stroke-width=\"2\"\n                        stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                </svg>\n            `;\n            logoutBtn.classList.add('icon-btn', 'logout-btn');\n            logoutBtn.addEventListener('click', logout);\n            navIcons.appendChild(logoutBtn);\n        }\n\n        // <button class=\"icon-btn logout-btn\" id=\"logoutBtn\" aria-label=\"Logout\">\n        //     <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n        //         <path d=\"M7 2H3C2.44772 2 2 2.44772 2 3V17C2 17.5523 2.44772 18 3 18H7\"\n        //             stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" />\n        //         <path d=\"M13 14L18 10M18 10L13 6M18 10H7\" stroke=\"currentColor\" stroke-width=\"2\"\n        //             stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n        //     </svg>\n        // </button>\n        console.log('User is logged in. Add logout button to UI.');\n    }\n});"],"file":"main.js"}