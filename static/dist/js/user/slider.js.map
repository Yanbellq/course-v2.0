{"version":3,"names":[],"mappings":"","sources":["slider.js"],"sourcesContent":["// ============ HERO SLIDER ============\nclass HeroSlider {\n    constructor(sliderId) {\n        this.slider = document.getElementById(sliderId);\n        if (!this.slider) return;\n\n        this.slides = this.slider.querySelectorAll('.hero-slide');\n        this.currentSlide = 0;\n        this.totalSlides = this.slides.length;\n\n        this.prevBtn = document.getElementById('prevSlide');\n        this.nextBtn = document.getElementById('nextSlide');\n        this.dotsContainer = document.getElementById('sliderDots');\n\n        this.init();\n    }\n\n    init() {\n        // Create dots\n        this.createDots();\n\n        // Event listeners\n        if (this.prevBtn) {\n            this.prevBtn.addEventListener('click', () => this.prevSlide());\n        }\n\n        if (this.nextBtn) {\n            this.nextBtn.addEventListener('click', () => this.nextSlide());\n        }\n\n        // Auto play\n        this.startAutoPlay();\n\n        // Pause on hover\n        this.slider.addEventListener('mouseenter', () => this.stopAutoPlay());\n        this.slider.addEventListener('mouseleave', () => this.startAutoPlay());\n\n        this.dotsContainer.addEventListener('mouseenter', () => this.stopAutoPlay());\n        this.dotsContainer.addEventListener('mouseleave', () => this.startAutoPlay());\n    }\n\n    createDots() {\n        if (!this.dotsContainer) return;\n\n        for (let i = 0; i < this.totalSlides; i++) {\n            const dot = document.createElement('button');\n            dot.classList.add('slider-dot');\n            if (i === 0) dot.classList.add('active');\n\n            dot.addEventListener('click', () => this.goToSlide(i));\n            this.dotsContainer.appendChild(dot);\n        }\n    }\n\n    goToSlide(index) {\n        // Remove active class from current slide\n        this.slides[this.currentSlide].classList.remove('active');\n\n        // Update current slide\n        this.currentSlide = index;\n\n        // Add active class to new slide\n        this.slides[this.currentSlide].classList.add('active');\n\n        // Update dots\n        this.updateDots();\n    }\n\n    nextSlide() {\n        const next = (this.currentSlide + 1) % this.totalSlides;\n        this.goToSlide(next);\n    }\n\n    prevSlide() {\n        const prev = (this.currentSlide - 1 + this.totalSlides) % this.totalSlides;\n        this.goToSlide(prev);\n    }\n\n    updateDots() {\n        if (!this.dotsContainer) return;\n\n        const dots = this.dotsContainer.querySelectorAll('.slider-dot');\n        dots.forEach((dot, index) => {\n            if (index === this.currentSlide) {\n                dot.classList.add('active');\n            } else {\n                dot.classList.remove('active');\n            }\n        });\n    }\n\n    startAutoPlay() {\n        this.autoPlayInterval = setInterval(() => {\n            this.nextSlide();\n        }, 5000);\n    }\n\n    stopAutoPlay() {\n        clearInterval(this.autoPlayInterval);\n    }\n}\n\n// Initialize hero slider\nconst heroSlider = new HeroSlider('heroSlider');\n\n// ============ COLLECTIONS SLIDER ============\nclass CollectionsSlider {\n    constructor(sliderId) {\n        this.slider = document.getElementById(sliderId);\n        if (!this.slider) return;\n\n        this.prevBtn = document.getElementById('collectionsPrev');\n        this.nextBtn = document.getElementById('collectionsNext');\n        this.slidesPerScroll = 3;\n        this.isAnimating = false;\n\n        this.init();\n    }\n\n    init() {\n        this.prevBtn?.addEventListener('click', () => this.scroll(-1));\n        this.nextBtn?.addEventListener('click', () => this.scroll(1));\n        this.slider.addEventListener('scroll', () => this.updateButtons());\n        this.updateButtons();\n    }\n\n    getSlideMetrics() {\n        const firstSlide = this.slider.querySelector(':scope > *');\n        if (!firstSlide) return { width: 400, gap: 0 };\n        const slideWidth = firstSlide.offsetWidth;\n        const gap = parseFloat(window.getComputedStyle(this.slider).gap || 0);\n        return { width: slideWidth, gap };\n    }\n\n    getScrollAmount() {\n        const { width, gap } = this.getSlideMetrics();\n        return (width + gap) * this.slidesPerScroll;\n    }\n\n    // ⚡ Миттєвий запуск анімації, без затримок\n    scroll(direction) {\n        if (this.isAnimating) return; // щоб не дублювати кліки\n        this.isAnimating = true;\n\n        const start = this.slider.scrollLeft;\n        const change = this.getScrollAmount() * direction;\n        const target = start + change;\n        const duration = 400;\n        const startTime = performance.now();\n\n        const easeOut = t => 1 - Math.pow(1 - t, 3);\n\n        const animate = currentTime => {\n            const progress = Math.min((currentTime - startTime) / duration, 1);\n            this.slider.scrollLeft = start + change * easeOut(progress);\n\n            if (progress < 1) {\n                requestAnimationFrame(animate);\n            } else {\n                this.isAnimating = false;\n                this.updateButtons();\n            }\n        };\n\n        requestAnimationFrame(animate);\n    }\n\n    updateButtons() {\n        const scrollLeft = this.slider.scrollLeft;\n        const maxScroll = this.slider.scrollWidth - this.slider.clientWidth;\n        const atStart = scrollLeft <= 5;\n        const atEnd = scrollLeft >= maxScroll - 5;\n\n        if (this.prevBtn) {\n            this.prevBtn.classList.toggle('opacity-30', atStart);\n            this.prevBtn.classList.toggle('pointer-events-none', atStart);\n        }\n\n        if (this.nextBtn) {\n            this.nextBtn.classList.toggle('opacity-30', atEnd);\n            this.nextBtn.classList.toggle('pointer-events-none', atEnd);\n        }\n    }\n}\n\nconst collectionsSlider = new CollectionsSlider('collectionsSlider');\n\n\n\n\n\n// ============ TOUCH SWIPE SUPPORT ============\nfunction addSwipeSupport(element, onSwipeLeft, onSwipeRight) {\n    if (!element) return;\n\n    let touchStartX = 0;\n    let touchEndX = 0;\n\n    element.addEventListener('touchstart', (e) => {\n        touchStartX = e.changedTouches[0].screenX;\n    });\n\n    element.addEventListener('touchend', (e) => {\n        touchEndX = e.changedTouches[0].screenX;\n        handleSwipe();\n    });\n\n    function handleSwipe() {\n        const swipeThreshold = 50;\n\n        if (touchEndX < touchStartX - swipeThreshold) {\n            // Swipe left\n            if (onSwipeLeft) onSwipeLeft();\n        }\n\n        if (touchEndX > touchStartX + swipeThreshold) {\n            // Swipe right\n            if (onSwipeRight) onSwipeRight();\n        }\n    }\n}\n\n// Add swipe support to hero slider\nif (document.getElementById('heroSlider')) {\n    addSwipeSupport(\n        document.getElementById('heroSlider'),\n        () => heroSlider.nextSlide(),\n        () => heroSlider.prevSlide()\n    );\n}\n\n// Add swipe support to collections slider\nif (document.getElementById('collectionsSlider')) {\n    const collectionsSliderElement = document.getElementById('collectionsSlider');\n    addSwipeSupport(\n        collectionsSliderElement,\n        () => collectionsSliderElement.scrollBy({ left: 430, behavior: 'smooth' }),\n        () => collectionsSliderElement.scrollBy({ left: -430, behavior: 'smooth' })\n    );\n}\n\n// ============ KEYBOARD NAVIGATION ============\ndocument.addEventListener('keydown', (e) => {\n    // Only if no input is focused\n    if (document.activeElement.tagName === 'INPUT') return;\n\n    if (e.key === 'ArrowLeft' && heroSlider) {\n        heroSlider.prevSlide();\n    }\n\n    if (e.key === 'ArrowRight' && heroSlider) {\n        heroSlider.nextSlide();\n    }\n});\n"],"file":"slider.js"}