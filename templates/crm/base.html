{% load static %}

<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Інформаційна система комп'ютерної фірми{% endblock %}</title>

    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="{% static 'dist/css/libs/tailwind.css' %}">

    <!-- Ваші кастомні SCSS стилі -->
    <link rel="stylesheet" href="{% static 'dist/css/crm/style.css' %}">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'dist/img/logo-icon.png' %}">

    {% block extra_css %}{% endblock %}
</head>

<body>
    <!-- Header -->
    <header class="header px-50">
        <!-- Пошук -->
        <div class="header__search search-panel">
            <div class="search-form">
                <input type="search" class="search-form__input" placeholder="Пошук товарів, клієнтів, договорів...">
                <button class="search-form__btn" type="button">Знайти</button>
            </div>
        </div>

        <div class="header__content">
            <div class="header__logo">
                <a href="{% url 'crm:index' %}">
                    <span class="logo">Electronic</span>
                </a>
            </div>

            <nav class="header__nav">
                <ul class="nav-menu">
                    <li class="nav-menu__item dropdown">
                        <a href="{% url 'crm:products_list' %}" class="nav-menu__link dropdown-toggle"><i
                                data-lucide="package" class="h-5 w-5"></i>Товари <i data-lucide="chevron-down"
                                class="dropdown-icon"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'crm:products_list' %}"><i data-lucide="boxes"></i>Всі товари</a></li>
                            <li><a href="{% url 'crm:categories_list' %}"> <i data-lucide="layers"></i>Категорії</a>
                            </li>
                            <li><a href="{% url 'crm:product_add' %}"> <i data-lucide="package-plus"></i>Додати
                                    товар</a></li>
                        </ul>
                    </li>
                    <li class="nav-menu__item dropdown">
                        <a href="{% url 'crm:customers_list' %}" class="nav-menu__link dropdown-toggle"><i
                                data-lucide="users" class="h-5 w-5"></i>Клієнти <i data-lucide="chevron-down"
                                class="dropdown-icon"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'crm:customers_list' %}"><i data-lucide="users"></i>Всі клієнти</a></li>
                            <li><a href="{% url 'crm:customer_add' %}"><i data-lucide="user-plus"></i>Додати клієнта</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-menu__item dropdown">
                        <a href="{% url 'crm:suppliers_list' %}" class="nav-menu__link dropdown-toggle"><i
                                data-lucide="truck" class="h-5 w-5"></i>Постачальники <i data-lucide="chevron-down"
                                class="dropdown-icon"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'crm:suppliers_list' %}"><i data-lucide="truck"></i>Всі
                                    постачальники</a></li>
                            <li><a href="{% url 'crm:supplier_add' %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" data-lucide="truck-plus"
                                        class="lucide lucide-truck-plus">
                                        <path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"></path>
                                        <path d="M15 18H9"></path>
                                        <path
                                            d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14">
                                        </path>
                                        <circle cx="17" cy="18" r="2"></circle>
                                        <circle cx="7" cy="18" r="2"></circle>
                                        <!-- Плюсик біля кабіни вантажівки -->
                                        <line x1="23" x2="23" y1="2" y2="8"></line> <!-- вертикальна частина плюсика -->
                                        <line x1="26" x2="20" y1="5" y2="5"></line>
                                        <!-- горизонтальна частина плюсика -->
                                    </svg>
                                    Додати постачальника</a></li>
                        </ul>
                    </li>
                    <li class="nav-menu__item dropdown">
                        <a href="{% url 'crm:sales_list' %}" class="nav-menu__link dropdown-toggle"><i
                                data-lucide="banknote" class="h-5 w-5"></i>Продажі <i data-lucide="chevron-down"
                                class="dropdown-icon"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'crm:sales_list' %}"><i data-lucide="banknote"></i>Всі продажі</a></li>
                            <li><a href="{% url 'crm:sale_add' %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M13 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5" />
                                        <line x1="17" y1="18" x2="22" y2="18" />
                                        <line x1="19.5" y1="15.5" x2="19.5" y2="20.5" />
                                        <path d="M18 12h.01" />
                                        <path d="M6 12h.01" />
                                        <circle cx="12" cy="12" r="2" />
                                    </svg>
                                    Нова продажа</a></li>
                        </ul>
                    </li>
                    <li class="nav-menu__item dropdown">
                        <a class="nav-menu__link dropdown-toggle cursor-pointer"><i data-lucide="cog"
                                class="h-5 w-5"></i>Сервіс <i data-lucide="chevron-down" class="dropdown-icon"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'crm:repairs_list' %}"> <i data-lucide="wrench"></i>Ремонти</a></li>
                            <li><a href="{% url 'crm:warranties_list' %}"> <i
                                        data-lucide="file-check-2"></i>Гарантії</a></li>
                            <li><a href="{% url 'crm:services_list' %}"> <i data-lucide="monitor-cog"></i>Послуги ПЗ</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-menu__item dropdown">
                        <a class="nav-menu__link dropdown-toggle cursor-pointer"><i data-lucide="file-text"
                                class="h-5 w-5"></i>Операції <i data-lucide="chevron-down"
                                class="dropdown-icon"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'crm:contracts_list' %}"> <i data-lucide="file-text"></i>Договори</a>
                            </li>
                            <li><a href="{% url 'crm:supplies_list' %}"> <i data-lucide="package-check"></i>Поставки</a>
                            </li>
                            <li><a href="{% url 'crm:custom_pc_list' %}"> <i data-lucide="pc-case"></i>Збірка ПК</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-menu__item">
                        <a href="{% url 'crm:reports' %}" class="nav-menu__link"><i data-lucide="bar-chart-2"
                                class="h-5 w-5"></i>Звіти</a>
                    </li>
                    <li class="nav-menu__item">
                        <a href="{% url 'crm:employees_list' %}" class="nav-menu__link"><i data-lucide="users"
                                class="h-5 w-5"></i>Персонал</a>
                    </li>
                </ul>
            </nav>

            <div class="header__actions">
                <button class="btn btn--icon search-toggle" type="button" title="Search">
                    <span class="icon"><i data-lucide="search" class="text-gray-500 hover:text-blue-600"></i></span>
                </button>
                <a class="btn btn--icon search-toggle" href="http://localhost:5502/" title="Logout">
                    <span class="icon"><i data-lucide="log-out" class="text-gray-500 hover:text-blue-600"></i></span>
                </a>
                <button class="btn btn--icon mobile-menu-toggle" type="button" title="Menu">
                    <span class="icon"><i data-lucide="menu" class="text-gray-500"></i></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Breadcrumbs -->
            {% block breadcrumbs %}{% endblock %}

            <!-- Page Header -->
            {% block page_header %}{% endblock %}

            <!-- Content -->
            {% block content %}{% endblock %}
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer fixed w-full bottom-0">
        <div class="container">
            <div class="footer__content">
                <p class="footer__text">
                    © 2025 Інформаційна система комп'ютерної фірми.
                    Розроблено для управління продажами, ремонтом та обслуговуванням.
                </p>
            </div>
        </div>
    </footer>

    <!-- Loading Overlay -->
    <div class="loading-overlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Завантаження...</p>
        </div>
    </div>

    <!-- JavaScript -->
    <script type="module" src="{% static 'dist/js/crm/main.js' %}"></script>
    <script src="https://unpkg.com/lucide@latest"></script>


    {% block extra_js %}{% endblock %}


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            lucide.createIcons();
        });
    </script>
</body>

</html>